<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta property="dc:format" content="text/html">
<meta name="generator" content="pandoc">
<meta name="viewport" content="width=device-width">
<meta property="dc:type" content="Text">
<meta property="dc:language" content="en">
<meta property="dc:title og:title" content="MCmarkete: An R package for the Monte Carlo Simulation of Financial Markets">

<meta property="og:image" content="https://www.jstatsoft.org/public/site/images/jstatsoft/jsslogo.jpg">
<link rel="icon" href="https://www.jstatsoft.org/public/journals/1/journalFavicon_en_US.gif">
<meta name="description" property="dc:description og:description schema:description" content="MCmarkete: An R package for the Monte Carlo Simulation of Financial Markets">


<meta name="keywords" property="dc:subject" content="monte carlo, copula, garch">

<title>MCmarkete: An R package for the Monte Carlo Simulation of Financial Markets</title>

<script>
window.PagedConfig = {
  before: async () => {
    // Expand the citations links
    let citations = document.querySelectorAll('.citation');
    for (let citation of citations) {
      let anchor = citation.querySelector('a');
      if (!anchor) continue;
      let span = document.createElement('span');
      span.innerHTML = anchor.innerHTML
      anchor.insertAdjacentElement('afterend', span)
      let href = anchor.getAttribute('href')
      anchor.remove();

      let newAnchor = document.createElement('a');
      newAnchor.setAttribute('href', href);
      citation.insertAdjacentElement('beforebegin', newAnchor);
      newAnchor.appendChild(citation);
    }

    // For the table captions, we would want to write this CSS rule:
    //     caption {caption-side: bottom-outside;}
    // However, the bottom-outside value is not standard and not implemented in Chrome.
    // So, we need to modify the DOM.
    let tables = document.querySelectorAll('table');
    for (let table of tables) {
      let caption = table.querySelector('caption');
      if (!caption) continue;
      let tableContainer = document.createElement('div');
      tableContainer.className = 'table-container';
      table.insertAdjacentElement('beforebegin', tableContainer);
      tableContainer.appendChild(table);
      let bookdownIdentifier = caption.querySelector('span[id^="tab\\:"]');
      if (!!bookdownIdentifier) {
        let tableId = bookdownIdentifier.id;
        bookdownIdentifier.removeAttribute('id');
        table.id = tableId;
      }
      let newCaption = document.createElement('p');
      newCaption.className = 'caption';
      newCaption.innerHTML = caption.innerHTML;
      caption.remove();
      tableContainer.appendChild(newCaption);
    }
  }
}
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function() {
  let beforePaged = PagedConfig.before;

  window.PagedConfig = {
    before: async () => {
      await beforePaged();
      await new Promise((resolve, reject) => {
        var script = document.createElement("script");
        script.type = "text/javascript";
        var src = `https://mathjax.rstudio.com/latest/MathJax.js` + "?config=TeX-MML-AM_CHTML";
        if (location.protocol !== "file:" && /^https?:/.test(src))
          src = src.replace(/^https?:/, '');
        script.src = src;
        window.MathJax = {
          AuthorInit: () => {
            MathJax.Hub.Register.StartupHook("Begin", () => {
              MathJax.Hub.Queue(resolve);
            });
          }
        };
        document.getElementsByTagName("head")[0].appendChild(script);
      });
    }
  };
})();
</script>

<script src="manual_files/header-attrs-2.5/header-attrs.js"></script>
<link href="manual_files/paged-0.13/css/jss-fonts.css" rel="stylesheet" />
<link href="manual_files/paged-0.13/css/jss-page.css" rel="stylesheet" />
<link href="manual_files/paged-0.13/css/jss.css" rel="stylesheet" />
<script src="manual_files/paged-0.13/js/config.js"></script>
<script src="manual_files/paged-0.13/js/paged.js"></script>
<script src="manual_files/paged-0.13/js/hooks.js"></script>




</head>

<body>
  <div style="display:none" aria-hidden="true">
  \(
    \let\pkg=\mathbf
    \let\proglang=\textsf
    \let\code=\texttt
    \newcommand{\E}{\mathsf{E}}
    \newcommand{\VAR}{\mathsf{VAR}}
    \newcommand{\COV}{\mathsf{COV}}
    \newcommand{\Prob}{\mathsf{P}}
  \)
  </div>


<header class="document-header">
<img class="journal-name" alt="Journal of Statistical Software" src="https://www.jstatsoft.org/public/journals/1/homeHeaderTitleImage_en_US.png">
<p class="header-meta">
  <span class="issue">MMMMMM YYYY, Volume VV, Issue II.</span>
  <a href="https://doi.org/10.18637/jss.v000.i00" class="doi">doi: 10.18637/jss.v000.i00</a>
</p>
</header>

<article>

<header id="header" class="title-page">
<h1 class="title">MCmarkete: An R package for the Monte Carlo Simulation of Financial Markets</h1>
<span class="shorttitle" style="display: none;" aria-hidden="true"><strong>foo</strong>: A Capitalized Title</span>
<div class="authors-container" role="list">
<p class="author-item" role="listitem" style="--rank: 1;">
<span class="author">Nathan Potgieter</span>
<br><span class="author-affil">
Stellenbosch University
</span>
</p>
<p class="author-item" role="listitem" style="--rank: 2;">
<span class="author">Romain Lesur</span>
<br><span class="author-affil">
Affiliation
</span>
</p>
</div>
</header>

<section class="abstract" property="dc:abstract">
<h2 class="abstract-header">Abstract</h2>
<div class="abstract-content">
<p>This document serves as the user manual for the R package “MCmarket” which provides users with the tools to carry out the Monte Carlo simulations of asset markets, with a given correlation structure and dynamic correlations. Elliptical copulas are used to induce a correlation structure and the Archmedian Clayton copula is used to induce greater left-tail dependencies (or dynamic correlations). Various ARIMA + GARCH models can also be called apon to induce mean and varience persistence within the simulated data. Non technical users will be able to select between X presets to induce varying degrees of market risk withoit prior knowedge to the underlying statistical concepts.</p>
</div>
<section class="keywords" role="list" aria-labelledby="keywords-header">
<p><span id="keywords-header" class="keywords-heading" aria-level="3" role="heading">Keywords</span>: <span role="listitem">monte carlo</span>, <span role="listitem">copula</span>, <span role="listitem">garch</span>.</p>
</section>
</section>

<main role="main">
<div id="introduction" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>In the field of quantitative finance, Monte Carlo simulations have been used extensively for risk management, as well as in the evaluation of portfolio optimisation algorithms. Their unique ability to generate an ensemble of counterfactuals i.e. possible alternative realizations of stochastic processes with identical characteristics, makes them a uniquely powerful tool in aiding decision making in domains dominated by randomness. They are also relatively easy to construct compared to alternative techniques that rely on complex mathematics. Meanwhile, the steady improvement in computer processing power has made the more sophisticated Monte Carlo techniques increasingly viable. The key input to financial market Monte Carlo frameworks is the markets correlation matrix as this greatly effects the potential for diversification and risk management within each counterfactual market.</p>
<p>This work lays the foundation of a pre-established framework for performing Monte Carlo simulations of financial asset market returns, with a unique altercation that induces increased left-tail dependence. In other words, the correlation between assets increases during bear markets, and market crashes in particular. This functionality is particularly useful when simulating asset markets since it is a well documented phenomenon that financial returns experience increased co-dependence during turbulent times <span class="citation">(<a href="#ref-dyamiccorrelation" role="doc-biblioref"><strong>dyamiccorrelation?</strong></a>)</span>. The simulated markets will adhere to the user-defined correlation structure. This framework also provides the functionality to induce various degrees of mean and variance persistence. This is accomplished by setting the parameters of a ARIMA(p,q) + GARCH(q,p) equation.</p>
</div>
<div id="methadology" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Methadology</h1>
<p>The framework for Monte Carlo set out involves the following steps:</p>
<p>This example generates k periods of returns, for D Assets across N counterfactual markets.</p>
<ol style="list-style-type: decimal">
<li>Draw a series of k random uniformly distributed numbers (corresponding to k trading periods), across a set of D variables (or D assets), from a multivariate distribution with a given correlation matrix.
<ul>
<li>This is accomplished using Euclidean copulas (Gaussian or t-copula), to induce a correlation structure, and Archmediean copula’s (Clayton), to introduce left-tail dependence. This can easily be done using R’s copula package <span class="citation">(<a href="#ref-copula" role="doc-biblioref"><strong>copula?</strong></a>)</span>.</li>
</ul></li>
<li>Convert the univariate distributions from being uniformly distributed into something that more resembles the distribution of asset returns. For example one could convert them into normal, student-t or skewed-generalized t distributions.
<ul>
<li>Practicily this is done the same way one would convert p-values into test statistics using the dnorm(), dt() and dsgt() functions respectively <span class="citation">(<a href="#ref-baser" role="doc-biblioref"><strong>baser?</strong></a>; <a href="#ref-sgt" role="doc-biblioref"><strong>sgt?</strong></a>)</span>.</li>
<li>Technically this is accomplished via the inversion of the chosen cumulative distribution function (CDF).</li>
</ul></li>
<li>Induce mean and variance persistence to the series, by plugging in the previously simulated series into an ARMA(p,q) + GARCH(q,p) equation as the i.i.d innovations.
<ul>
<li>If the parameters are set accordingly the resulting series should possess the volatility clustering observed in empirical asset returns.</li>
</ul></li>
<li>The final step is to repeat the first 3 steps N times to generate an ensemble of asset markets, each with the same risk characteristics but different realisation.</li>
</ol>
<div id="code-formatting" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Code formatting</h2>
<p>You should use <strong>Pandoc</strong>’s <span class="proglang">markdown</span> but you also can use <span class="math inline">\(\LaTeX\)</span> commands:</p>
<ul>
<li><span class="proglang">Java</span> or <span class="math inline">\(\proglang{Java}\)</span></li>
<li><strong>plyr</strong>, <span class="pkg">plyr</span> or <span class="math inline">\(\pkg{plyr}\)</span></li>
<li><code>print("abc")</code> or <span class="math inline">\(\code{print(&quot;abc&quot;)}\)</span></li>
</ul>
</div>
</div>
<div id="r-code" class="section level1" number="3">
<h1><span class="header-section-number">3</span> <span class="proglang">R</span> code</h1>
<p>Can be inserted in regular <span class="proglang">R Markdown</span> blocks.</p>
<pre class="r r-chunk-code"><code>R&gt; x &lt;- 1:10
R&gt; x</code></pre>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div id="render-the-document" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Render the document</h1>
<p>If you use the option <code>self_contained: false</code> (see line #22 of this <code>Rmd</code> file), don’t click on the <code>Knit</code> button in RStudio. Use instead the <strong>xaringan</strong> <span class="citation">(<a href="#ref-R-xaringan" role="doc-biblioref"><strong>R-xaringan?</strong></a>)</span> RStudio add-in <em>Infinite Moon Reader</em>.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
</div>
</main>

<footer class="article-footer">
<h3 class="affil-header">Affiliation:</h3>
<address>
<p class="author">Nathan Potgieter</p>
<p class="author-affil">Stellenbosch University</p>
<p class="author-address"><p>First line<br />
Second line</p></p>
<p>E-mail: <a href="mailto:19959672@sun.ac.za" class="email">19959672@sun.ac.za</a></p>
<p>URL: <a href="https://rstudio.com" class="uri">https://rstudio.com</a></p>
</address>
<div class="last-page-footer">
<p class="jss-meta">
<img class="journal-name" alt="Journal of Statistical Software" src="https://www.jstatsoft.org/public/journals/1/homeHeaderTitleImage_en_US.png"> <a class="uri" href="https://www.jstatsoft.org/">http://www.jstatsoft.org/</a><br>
published by the Foundation for Open Access Statistics <a class="uri" href="http://www.foastat.org/">http://www.foastat.org/</a>
</p>
<p class="footer-issue">
MMMMMM YYYY, Volume VV, Issue II
<br><a href="https://doi.org/10.18637/jss.v000.i00" class="doi">doi: 10.18637/jss.v000.i00</a>
</p>
<p class="info-dates">
<em>Submitted:</em> yyyy-mm-dd<br>
<em>Accepted:</em> yyyy-mm-dd
</p>
</div>
</footer>
</article>


<script>
// when the page is about to reload via servr, remember the scroll position
document.addEventListener('servr:reload', function(e) {
  sessionStorage.setItem('pagedown-scroll', window.scrollY);
});
</script>
</body>
</html>
